<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>folk-space element</title>
    <style>
      html,
      body {
        height: 100%;
        margin: 0;
        padding: 0;
        overflow: hidden;
        overscroll-behavior-x: none;
        touch-action: none;
      }

      folk-space {
        width: 100%;
        height: 100%;
      }

      folk-shape {
        background-color: #3498db;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      }

      .debug-info {
        position: fixed;
        bottom: 10px;
        right: 10px;
        background: rgba(0, 0, 0, 0.7);
        color: #ffffff;
        font-family: monospace;
        font-size: 14px;
        padding: 8px;
        border-radius: 4px;
        z-index: 1000;
      }
    </style>
  </head>
  <body>
    <div class="debug-info" id="debug-info"> scale: 1.00 | pos: 0, 0 </div>

    <folk-space id="space">
      <folk-shape id="box1" x="100" y="100" width="100" height="100"></folk-shape>
      <folk-shape id="box2" x="300" y="200" width="80" height="80"></folk-shape>
      <folk-shape id="box3" x="500" y="300" width="120" height="120"></folk-shape>
      <folk-shape id="box4" x="200" y="400" width="150" height="150">
        Lets add some long content to check scrolling behaviour. Lorem ipsum dolor sit amet consectetur adipisicing
        elit. Quisquam, quos. Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos. Lorem ipsum dolor
        sit amet consectetur adipisicing elit. Quisquam, quos. Lorem ipsum dolor sit amet consectetur adipisicing elit.
        Quisquam, quos. Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos. Lorem ipsum dolor sit
        amet consectetur adipisicing elit. Quisquam, quos. Lorem ipsum dolor sit amet consectetur adipisicing elit.
        Quisquam, quos. Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quos.
      </folk-shape>
    </folk-space>

    <script type="module">
      import '@labs/standalone/folk-space.ts';
      import '@labs/standalone/folk-shape.ts';

      const space = document.getElementById('space');
      const debugInfo = document.getElementById('debug-info');

      // Initialize displays
      updateDisplays(1, { x: 0, y: 0 });

      if (space) {
        space.onTransformChange = (scale, position) => {
          updateDisplays(scale, position);
        };
      }

      function updateDisplays(scale, position) {
        debugInfo.textContent = `scale: ${scale.toFixed(2)} | pos: ${Math.round(position.x)}, ${Math.round(position.y)}`;
      }
    </script>
  </body>
</html>
